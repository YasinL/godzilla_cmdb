[2019-01-07 16:34:30,055 ERROR 186716 exception.py 124] - Internal Server Error: /godzilla/permanager/useradd
Traceback (most recent call last):
  File "C:\Users\admin\AppData\Roaming\Python\Python36\site-packages\pymysql\connections.py", line 916, in connect
    **kwargs)
  File "D:\Python\Python36\lib\socket.py", line 722, in create_connection
    raise err
  File "D:\Python\Python36\lib\socket.py", line 713, in create_connection
    sock.connect(sa)
socket.timeout: timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\backends\base\base.py", line 199, in ensure_connection
    self.connect()
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\backends\base\base.py", line 171, in connect
    self.connection = self.get_new_connection(conn_params)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\backends\mysql\base.py", line 265, in get_new_connection
    conn = Database.connect(**conn_params)
  File "C:\Users\admin\AppData\Roaming\Python\Python36\site-packages\pymysql\__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "C:\Users\admin\AppData\Roaming\Python\Python36\site-packages\pymysql\connections.py", line 706, in __init__
    self.connect()
  File "C:\Users\admin\AppData\Roaming\Python\Python36\site-packages\pymysql\connections.py", line 963, in connect
    raise exc
pymysql.err.OperationalError: (2003, "Can't connect to MySQL server on '118.89.18.234' (timed out)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\pythoncode\godzilla_cmdb\godzilla\handle\usermanager.py", line 55, in useradd
    for roles in roletable:
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\models\query.py", line 256, in __iter__
    self._fetch_all()
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\models\query.py", line 1085, in _fetch_all
    self._result_cache = list(self.iterator())
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\models\query.py", line 109, in __iter__
    for row in compiler.results_iter():
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\models\sql\compiler.py", line 789, in results_iter
    results = self.execute_sql(MULTI)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\models\sql\compiler.py", line 833, in execute_sql
    cursor = self.connection.cursor()
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\backends\base\base.py", line 231, in cursor
    cursor = self.make_debug_cursor(self._cursor())
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\backends\base\base.py", line 204, in _cursor
    self.ensure_connection()
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\backends\base\base.py", line 199, in ensure_connection
    self.connect()
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\utils.py", line 94, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\utils\six.py", line 685, in reraise
    raise value.with_traceback(tb)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\backends\base\base.py", line 199, in ensure_connection
    self.connect()
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\backends\base\base.py", line 171, in connect
    self.connection = self.get_new_connection(conn_params)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\db\backends\mysql\base.py", line 265, in get_new_connection
    conn = Database.connect(**conn_params)
  File "C:\Users\admin\AppData\Roaming\Python\Python36\site-packages\pymysql\__init__.py", line 90, in Connect
    return Connection(*args, **kwargs)
  File "C:\Users\admin\AppData\Roaming\Python\Python36\site-packages\pymysql\connections.py", line 706, in __init__
    self.connect()
  File "C:\Users\admin\AppData\Roaming\Python\Python36\site-packages\pymysql\connections.py", line 963, in connect
    raise exc
django.db.utils.OperationalError: (2003, "Can't connect to MySQL server on '118.89.18.234' (timed out)")
[2019-01-07 16:34:58,219 ERROR 186716 exception.py 124] - Internal Server Error: /godzilla/permanager/useradd
Traceback (most recent call last):
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\pythoncode\godzilla_cmdb\godzilla\handle\usermanager.py", line 39, in useradd
    roleid  = userinfo[0]["roleid"]
KeyError: 'roleid'
[2019-01-07 16:35:41,299 ERROR 186716 exception.py 124] - Internal Server Error: /godzilla/permanager/useradd
Traceback (most recent call last):
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\pythoncode\godzilla_cmdb\godzilla\handle\usermanager.py", line 39, in useradd
    roleid  = userinfo[0]["roleid"]
KeyError: 'roleid'
[2019-01-07 16:40:47,616 ERROR 186716 exception.py 124] - Internal Server Error: /godzilla/permanager/useradd
Traceback (most recent call last):
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\pythoncode\godzilla_cmdb\godzilla\handle\usermanager.py", line 39, in useradd
    roleid  = userinfo[0]["roleid"]
KeyError: 'roleid'
[2019-01-07 16:42:31,455 ERROR 186716 usermanager.py 46] - (1062, "Duplicate entry 'wangxun' for key 'username'")
[2019-01-07 16:43:32,916 INFO 186716 login.py 17] - wangxun
[2019-01-07 16:45:47,988 INFO 186716 login.py 17] - admin
[2019-01-07 16:47:00,644 INFO 186716 login.py 17] - wangxun
[2019-01-07 16:47:22,732 INFO 186716 login.py 17] - admin
[2019-01-07 17:01:02,811 ERROR 181804 exception.py 124] - Internal Server Error: /godzilla/permanager/useradd
Traceback (most recent call last):
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\exception.py", line 39, in inner
    response = get_response(request)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\base.py", line 187, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "D:\pythoncode\godzilla_cmdb\venv\lib\site-packages\django\core\handlers\base.py", line 185, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "D:\pythoncode\godzilla_cmdb\godzilla\handle\decorator_login.py", line 17, in inner
    ret = func(*args,**kwargs)
TypeError: useradd() missing 1 required positional argument: 'request'
[2019-01-07 17:01:03,886 WARNING 181804 base.py 152] - Not Found: /favicon.ico
[2019-01-07 17:05:43,592 WARNING 176596 base.py 152] - Not Found: /godzilla
[2019-01-07 17:05:44,515 WARNING 176596 base.py 152] - Not Found: /favicon.ico
[2019-01-07 17:06:59,407 INFO 165736 login.py 17] - admin
[2019-01-07 17:07:23,838 INFO 165736 login.py 17] - admin
